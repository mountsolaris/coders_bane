<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Password Generator</title>
</head>
<body>
<button id="generatorButton">Passwort erstellen</button>
<form id="passwordForm">
    <label for="passwordField">Bitte geben Sie ein Passwort ein</label>
    <input type="text" size="30" id="passwordField" label="Neues Passwort"/>
    <button class="submit">Bestätigen</button>
</form>
<script>

    const characterArray = [97, 98, 99];


    const passwordField = document.querySelector('#passwordField');
    const generatorButton = document.querySelector('#generatorButton');
    const passwordForm = document.querySelector('#passwordForm');

    generatorButton.addEventListener('click', () => {
        //  console.log('Buh!')
        //  setPassword('Buh!');

        let passwordLength = Math.floor(Math.random() * (25 - 15) + 15);

        for (let i = 0; i < passwordLength; i++) {
            const nummer = Math.floor(Math.random() * (123 - 35) + 35);
            //  console.log(nummer);
            characterArray.push(nummer);
        }

        const characterOutput = String.fromCharCode(...characterArray);
        console.log(characterOutput);
        setPassword(characterOutput);
        characterArray.splice(0);
    });

    passwordForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const suggestedPassword = passwordField.value;
        console.log(suggestedPassword);
        //passwordField.value = '';
        checkPassword(suggestedPassword);

    })

    const checkPassword = (suggestedPassword) => {

        if (suggestedPassword.length > 20) {
            console.log('Hurra!');
            alert('Ihr Passwort ist viel zu lang!')
        } else if (suggestedPassword.length > 15) {
            alert('Ihr Passwort ist ein bisschen zu lang!')
        } else if (suggestedPassword.length > 10) {
            alert('Ihr Passwort ist leider zu lang!')
        } else if (suggestedPassword.length > 5) {
            alert('Ihr Passwort ist zu lang!')
        } else if (suggestedPassword.length == 5) {
            alert('Ihr Passwort hat die richtige Länge!')
        } else {
            console.log('hurra!')
            alert('Ihr Passwort ist zu kurz!!!')
        }
        ;
    }

    const setPassword = (newPassword) => {
        passwordField.value = newPassword;
    };
</script>
</body>
</html>